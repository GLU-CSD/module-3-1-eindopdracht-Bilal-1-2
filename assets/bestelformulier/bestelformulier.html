<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bestelformulier</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="formulier">
        <form method="post" action="/submit">
            <fieldset>
                <legend>Bestelformulier</legend>
                <label for="voornaam">Voornaam:</label>
                <input type="text" name="voornaam" id="voornaam" required>
                
                <label for="achternaam">Achternaam:</label>
                <input type="text" name="achternaam" id="achternaam" required>
                
                <label for="email">E-mail:</label>
                <input type="email" name="email" id="email" required>
                
                <label for="adres">Adres:</label>
                <input type="text" name="adres" id="adres" required>
            </fieldset>
            
            <fieldset>
                <legend>Producten</legend>
                <label for="product">Kies een product:</label>
                <select name="product" id="product" required>
                    <option value="">-- Maak een keuze --</option>
                    <option value="Laptop">Laptop</option>
                    <option value="Smartphone">Smartphone</option>
                    <option value="Tablet">Tablet</option>
                </select>  
                
                <label for="aantal">Aantal:</label>
                <input type="number" name="aantal" id="aantal" min="1" required>
            </fieldset>

            <fieldset>
                <legend>Jouw bestelling</legend>
                <ul id="order-list"></ul> <!-- Hier worden de producten ingeladen -->
            </fieldset>
            
            <fieldset>
                <legend>Opmerkingen</legend>
                <textarea name="opmerking" rows="5" cols="40" placeholder="Uw bericht..."></textarea>
            </fieldset>
            
            <fieldset>
                <input type="submit" value="Bestelling plaatsen">
                <input type="reset" value="Herstellen">
            </fieldset>
        </form>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            let orderList = document.getElementById("order-list");
      
            if (cart.length === 0) {
                orderList.innerHTML = "<p>Je winkelwagen is leeg.</p>";
            } else {
                cart.forEach(item => {
                    let listItem = document.createElement("li");
                    listItem.textContent = `${item.product} - â‚¬${item.price}`;
                    orderList.appendChild(listItem);
                });
            }
        });

        // Leeg de winkelwagen na het verzenden van het formulier
        document.querySelector("form").addEventListener("submit", function() {
            localStorage.removeItem("cart");
        });
    </script>
</body>
</html>
